!function($,e,i){"use strict";function t(i,t){var s=this;s.$el=$(i),s.el=i,s.id=n++,s.$window=$(e),s.$document=$(document),s.$el.bind("destroyed",$.proxy(s.teardown,s)),s.$clonedHeader=null,s.$originalHeader=null,s.isSticky=!1,s.hasBeenSticky=!1,s.leftOffset=null,s.topOffset=null,s.init=function(){s.$el.each(function(){var e=$(this);e.css("padding",0),s.$originalHeader=$("thead:first",this),s.$clonedHeader=s.$originalHeader.clone(),e.trigger("clonedHeader."+o,[s.$clonedHeader]),s.$clonedHeader.addClass("tableFloatingHeader"),s.$clonedHeader.css("display","none"),s.$originalHeader.addClass("tableFloatingHeaderOriginal"),s.$originalHeader.after(s.$clonedHeader),s.$printStyle=$('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}</style>'),$("head").append(s.$printStyle)}),s.setOptions(t),s.updateWidth(),s.toggleHeaders(),s.bind()},s.destroy=function(){s.$el.unbind("destroyed",s.teardown),s.teardown()},s.teardown=function(){s.isSticky&&s.$originalHeader.css("position","static"),$.removeData(s.el,"plugin_"+o),s.unbind(),s.$clonedHeader.remove(),s.$originalHeader.removeClass("tableFloatingHeaderOriginal"),s.$originalHeader.css("visibility","visible"),s.$printStyle.remove(),s.el=null,s.$el=null},s.bind=function(){s.$scrollableArea.on("scroll."+o,s.toggleHeaders),s.isWindowScrolling||(s.$window.on("scroll."+o+s.id,s.setPositionValues),s.$window.on("resize."+o+s.id,s.toggleHeaders)),s.$scrollableArea.on("resize."+o,s.toggleHeaders),s.$scrollableArea.on("resize."+o,s.updateWidth)},s.unbind=function(){s.$scrollableArea.off("."+o,s.toggleHeaders),s.isWindowScrolling||(s.$window.off("."+o+s.id,s.setPositionValues),s.$window.off("."+o+s.id,s.toggleHeaders)),s.$scrollableArea.off("."+o,s.updateWidth)},s.toggleHeaders=function(){s.$el&&s.$el.each(function(){var e=$(this),i,t=s.isWindowScrolling?isNaN(s.options.fixedOffset)?s.options.fixedOffset.outerHeight():s.options.fixedOffset:s.$scrollableArea.offset().top+(isNaN(s.options.fixedOffset)?0:s.options.fixedOffset),o=e.offset(),n=s.$scrollableArea.scrollTop()+t,l=s.$scrollableArea.scrollLeft(),a=s.isWindowScrolling?n>o.top:t>o.top,d=(s.isWindowScrolling?n:0)<o.top+e.height()-s.$clonedHeader.height()-(s.isWindowScrolling?0:t);a&&d?(i=o.left-l+s.options.leftOffset,s.$originalHeader.css({position:"fixed","margin-top":s.options.marginTop,left:i,"z-index":3}),s.leftOffset=i,s.topOffset=t,s.$clonedHeader.css("display",""),s.isSticky||(s.isSticky=!0,s.updateWidth()),s.setPositionValues()):s.isSticky&&(s.$originalHeader.css("position","static"),s.$clonedHeader.css("display","none"),s.isSticky=!1,s.resetWidth($("td,th",s.$clonedHeader),$("td,th",s.$originalHeader)))})},s.setPositionValues=function(){var e=s.$window.scrollTop(),i=s.$window.scrollLeft();!s.isSticky||e<0||e+s.$window.height()>s.$document.height()||i<0||i+s.$window.width()>s.$document.width()||s.$originalHeader.css({top:s.topOffset-(s.isWindowScrolling?0:e),left:s.leftOffset-(s.isWindowScrolling?0:i)})},s.updateWidth=function(){if(s.isSticky){s.$originalHeaderCells||(s.$originalHeaderCells=$("th,td",s.$originalHeader)),s.$clonedHeaderCells||(s.$clonedHeaderCells=$("th,td",s.$clonedHeader));var e=s.getWidth(s.$clonedHeaderCells);s.setWidth(e,s.$clonedHeaderCells,s.$originalHeaderCells),s.$originalHeader.css("width",s.$clonedHeader.width())}},s.getWidth=function(i){var t=[];return i.each(function(i){var o,n=$(this);if("border-box"===n.css("box-sizing")){var l=n[0].getBoundingClientRect();o=l.width?l.width:l.right-l.left}else{if("collapse"===$("th",s.$originalHeader).css("border-collapse"))if(e.getComputedStyle)o=parseFloat(e.getComputedStyle(this,null).width);else{var a=parseFloat(n.css("padding-left")),d=parseFloat(n.css("padding-right")),r=parseFloat(n.css("border-width"));o=n.outerWidth()-a-d-r}else o=n.width()}t[i]=o}),t},s.setWidth=function(e,i,t){i.each(function(i){var o=e[i];t.eq(i).css({"min-width":o,"max-width":o})})},s.resetWidth=function(e,i){e.each(function(e){var t=$(this);i.eq(e).css({"min-width":t.css("min-width"),"max-width":t.css("max-width")})})},s.setOptions=function(i){s.options=$.extend({},l,i),s.$scrollableArea=$(s.options.scrollableArea),s.isWindowScrolling=s.$scrollableArea[0]===e},s.updateOptions=function(e){s.setOptions(e),s.unbind(),s.bind(),s.updateWidth(),s.toggleHeaders()},s.init()}var o="stickyTableHeaders",n=0,l={fixedOffset:0,leftOffset:0,marginTop:39,scrollableArea:e};$.fn[o]=function(e){return this.each(function(){var i=$.data(this,"plugin_"+o);i?"string"==typeof e?i[e].apply(i):i.updateOptions(e):"destroy"!==e&&$.data(this,"plugin_"+o,new t(this,e))})}}(jQuery,window);
//# sourceMappingURL=./jquery.stickytableheaders.min.js.map