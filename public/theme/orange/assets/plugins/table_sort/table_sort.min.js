/**
 * 
 * Create the object to hold the properties and methods
 *
 */
var table_sort={
/**
 * 
 * Default direction
 *
 */
dir:"desc",
/**
 * 
 * Do the actual sort
 *
 */
sort:function(t,a){
/* remove all previous arrows and such */
$("table.table-sort thead tr th i").removeClass("fa-sort-asc").removeClass("fa-sort-desc").addClass("fa-sort"),
/* remove previous highlighted column */
$("table.table-sort thead tr th").removeClass("active"),
/* add the correct classes to the header */
$("table.table-sort thead tr th:nth-child("+t+") i").addClass("fa-sort-"+a).removeClass("fa-sort"),$("table.table-sort thead tr th:nth-child("+t+")").addClass("active"),
/* do sort */
tinysort("table.table-sort tbody tr",{selector:"td:nth-child("+t+")",order:a,data:"value"},{selector:"td:nth-child("+t+")",order:a}),table_sort.save(t,a)}
/**
 * 
 * Load the last sort if any
 * 
 *
 */,load:function(){var t=$.jStorage.get(controller_path+"saved_sort_column","");""!=t&&(parts=t.split("\t"),table_sort.sort(parts[0],parts[1]))}
/**
 * 
 * Save the Last Sort
 * 
 *
 */,save:function(t,a){$.jStorage.set(controller_path+"saved_sort_column",t+"\t"+a)}
/**
 * 
 * handle clicks
 *
 */};$("table.table-sort thead tr th:not(.nosort)").prepend('<i class="fa fa-sort"></i> ').on("click",function(){
/* which direction are we going now? */
table_sort.dir="asc"==table_sort.dir?"desc":"asc",
/* find out which column we clicked and send in the dir */
table_sort.sort($("table.table-sort thead tr th").index(this)+1,table_sort.dir)}),
/**
 * 
 * or sort if it's dynamically loaded
 *
 */
$(document).on("orange_table_updated",{},function(t){table_sort.load()});
//# sourceMappingURL=table_sort.min.js.map