var BoundTableSearch={currentSearch:"",search:function(){BoundTableSearch.currentSearch=BoundTableSearch.getField(),BoundTableSearch.regular_expression_search(BoundTableSearch.currentSearch),BoundTableSearch.save(BoundTableSearch.currentSearch)},regular_expression_search:function(e){if(BoundTableSearch.determineIcons(e),e.length>0){var a=new RegExp(e,"img");$(BoundTableSearch.table_class).hide(),$(BoundTableSearch.table_class).not(":first").filter(function(){return a.test($(this).text().replace(/(\r\n|\n|\r)/gm," "))}).show(),console.log('bound table search filtering on "'+e+'" showing '+$(BoundTableSearch.table_class+":visible").length)}else console.log("bound table search showing all"),$(BoundTableSearch.table_class).show();BoundTableSearch.updateCount()},updateCount:function(){var e=$(BoundTableSearch.table_class+":visible").length,a=$(BoundTableSearch.table_class).length,n=e!=a?e+" of "+a:a;BoundTableSearch.count_element.html(n)},load:function(){BoundTableSearch.currentSearch=$.jStorage.get(controller_path+"bts",""),""!=BoundTableSearch.currentSearch&&(BoundTableSearch.setField(BoundTableSearch.currentSearch),BoundTableSearch.search())},save:function(e){$.jStorage.set(controller_path+"bts",e)},setField:function(e){BoundTableSearch.currentSearch=e,BoundTableSearch.field.val(e)},getField:function(){return BoundTableSearch.field.val()},determineIcons:function(e){e.length>0?(BoundTableSearch.field.css({"background-color":"#F0F2F7"}),BoundTableSearch.field.next().addClass("text-info")):(BoundTableSearch.field.css({"background-color":""}),BoundTableSearch.field.next().removeClass("text-info"))}};$(document).on("orange_table_updated",{},function(){BoundTableSearch.search()}),document.addEventListener("DOMContentLoaded",function(e){BoundTableSearch.table_class="table.bound-table-search tbody tr",BoundTableSearch.field=$("#bound-table-search-field"),BoundTableSearch.count_element=$("#table-search-field-count"),BoundTableSearch.tbody=$("table.bound-table-search tbody"),BoundTableSearch.field.on("keyup",debounce(function(){BoundTableSearch.search()},500)),BoundTableSearch.load()});